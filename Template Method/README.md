# Template Method

## 动机（Motivation）
+ 在软件构建过程中，对于某一项任务，它常常有稳定的整体操作结构，但各个子步骤却有很多改变的需求，或者由于固有的原因（比如框架与应用之间的关系）而无法和任务的整体结构同时实现。
+ 如何在确定稳定操作结构的前提下，来灵活应对各个子步骤的变化或者晚期实现需求？


## 模式定义
定义一个操作中的算法的骨架 **(稳定)** ，而将一些步骤延迟 **(变化)** 到子类中。
Template Method使得子类可以不改变(复用)一个算法的结构即可重定义(override 重写)该算法的
某些特定步骤。
——《 设计模式》 GoF

## 主要解决：
一些方法通用，却在每一个子类都重新写了这一方法。

## 何时使用：
有一些通用的方法。

## 如何使用：
将这些通用算法抽象出来。

## 代码结构：
在抽象类实现模板流程，其他步骤在子类实现。父类负责流程的走向，子类负责每个步骤的具体事情

## 扩展方式
通过实现不同的子类来扩展，不同的抽象方法需要实现不同的类。




## 要点总结
+ Template Method模式是一种非常基础性的设计模式，在面向对象系统中有着大量的应用。它用最简洁的机制（虚函数的多态性）
为很多应用程序框架提供了灵活的扩展点，是代码复用方面的基本实现结构。
+ 除了可以灵活应对子步骤的变化外， **“不要调用我，让我来调用你”** 的反向控制结构是Template Method的典型应用。
+ 在具体实现方面，被Template Method调用的虚方法可以具有实现，也可以没有任何实现（抽象方法、纯虚方法），但一般推荐将它们设置为protected方法。

## 优缺点
+ 该模式的主要优点如下：
1、它封装了不变部分，扩展可变部分。它把认为是不变部分的算法封装到父类中实现，而把可变部分算法由子类继承实现，便于子类继续扩展。
2、它在父类中提取了公共的部分代码，便于代码复用。
3、部分方法是由子类实现的，因此子类可以通过扩展方式增加相应的功能，符合开闭原则。

+ 该模式的主要缺点如下：
1、对每个不同的实现都需要定义一个子类，这会导致类的个数增加，系统更加庞大，设计也更加抽象。
2、父类中的抽象方法由子类实现，子类执行的结果会影响父类的结果，这导致一种反向的控制结构，它提高了代码阅读的难度。